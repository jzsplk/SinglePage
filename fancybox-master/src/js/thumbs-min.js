!function(t,$){"use strict";$.fancybox.defaults=$.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg viewBox="0 0 120 120"><path d="M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},$.fancybox.defaults);var i=function(t){this.init(t)};$.extend(i.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var i=this;i.instance=t,t.Thumbs=i;var s=t.group[0],n=t.group[1];i.opts=t.group[t.currIndex].opts.thumbs,i.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]"),i.opts&&s&&n&&("image"==s.type||s.opts.thumb||s.opts.$thumb)&&("image"==n.type||n.opts.thumb||n.opts.$thumb)?(i.$button.show().on("click",function(){i.toggle()}),i.isActive=!0):i.$button.hide()},create:function(){var t=this,i=t.instance,s=t.opts.parentEl,n,o;t.$grid=$('<div class="fancybox-thumbs fancybox-thumbs-'+t.opts.axis+'"></div>').appendTo(i.$refs.container.find(s).addBack().filter(s)),n="<ul>",$.each(i.group,function(t,i){o=i.opts.thumb||(i.opts.$thumb?i.opts.$thumb.attr("src"):null),o||"image"!==i.type||(o=i.src),o&&o.length&&(n+='<li data-index="'+t+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+o+'" /></li>')}),n+="</ul>",t.$list=$(n).appendTo(t.$grid).on("click","li",function(){i.jumpTo($(this).data("index"))}),t.$list.find("img").hide().one("load",function(){var t=$(this).parent().removeClass("fancybox-thumbs-loading"),i=t.outerWidth(),s=t.outerHeight(),n,o,e,a;n=this.naturalWidth||this.width,o=this.naturalHeight||this.height,e=n/i,a=o/s,e>=1&&a>=1&&(e>a?(n/=a,o=s):(n=i,o/=e)),$(this).css({width:Math.floor(n),height:Math.floor(o),"margin-top":o>s?Math.floor(.3*s-.3*o):Math.floor(.5*s-.5*o),"margin-left":Math.floor(.5*i-.5*n)}).show()}).each(function(){this.src=$(this).data("src")}),"x"===t.opts.axis&&t.$list.width(parseInt(t.$grid.css("padding-right"))+i.group.length*t.$list.children().eq(0).outerWidth(!0)+"px")},focus:function(t){var i=this,s=i.$list,n,o;i.instance.current&&(n=s.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+i.instance.current.index+'"]').addClass("fancybox-thumbs-active"),o=n.position(),"y"===i.opts.axis&&(o.top<0||o.top>s.height()-n.outerHeight())?s.stop().animate({scrollTop:s.scrollTop()+o.top},t):"x"===i.opts.axis&&(o.left<s.parent().scrollLeft()||o.left>s.parent().scrollLeft()+(s.parent().width()-n.outerWidth()))&&s.parent().stop().animate({scrollLeft:o.left},t))},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus(0)):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),$(t).on({"onInit.fb":function(t,s){var n;s&&!s.Thumbs&&(n=new i(s),n.isActive&&!0===n.opts.autoStart&&n.show())},"beforeShow.fb":function(t,i,s,n){var o=i&&i.Thumbs;o&&o.isVisible&&o.focus(n?0:250)},"afterKeydown.fb":function(t,i,s,n,o){var e=i&&i.Thumbs;e&&e.isActive&&71===o&&(n.preventDefault(),e.toggle())},"beforeClose.fb":function(t,i){var s=i&&i.Thumbs;s&&s.isVisible&&!1!==s.opts.hideOnClose&&s.$grid.hide()}})}(document,window.jQuery);