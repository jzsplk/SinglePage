!function(e,t,$){"use strict";function o(){var e=t.location.hash.substr(1),o=e.split("-"),n=o.length>1&&/^\+?\d+$/.test(o[o.length-1])?parseInt(o.pop(-1),10)||1:1,a=o.join("-");return n<1&&(n=1),{hash:e,index:n,gallery:a}}function n(e){var t;""!==e.gallery&&(t=$("[data-fancybox='"+$.escapeSelector(e.gallery)+"']").eq(e.index-1),t.length||(t=$("#"+$.escapeSelector(e.gallery))),t.length&&(r=!1,t.trigger("click")))}function a(e){var t;return!!e&&(t=e.current?e.current.opts:e.opts,t.hash||(t.$orig?t.$orig.data("fancybox"):""))}$.escapeSelector||($.escapeSelector=function(e){var t=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,o=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e};return(e+"").replace(t,o)});var r=!0,l=null,c=null;$(function(){!1!==$.fancybox.defaults.hash&&($(e).on({"onInit.fb":function(e,t){var n,r;!1!==t.group[t.currIndex].opts.hash&&(n=o(),(r=a(t))&&n.gallery&&r==n.gallery&&(t.currIndex=n.index-1))},"beforeShow.fb":function(o,n,i){var s;i&&!1!==i.opts.hash&&(s=a(n))&&""!==s&&(t.location.hash.indexOf(s)<0&&(n.opts.origHash=t.location.hash),l=s+(n.group.length>1?"-"+(i.index+1):""),"replaceState"in t.history?(c&&clearTimeout(c),c=setTimeout(function(){t.history[r?"pushState":"replaceState"]({},e.title,t.location.pathname+t.location.search+"#"+l),c=null,r=!1},300)):t.location.hash=l)},"beforeClose.fb":function(o,n,r){var i,s;c&&clearTimeout(c),!1!==r.opts.hash&&(i=a(n),s=n&&n.opts.origHash?n.opts.origHash:"",i&&""!==i&&("replaceState"in history?t.history.replaceState({},e.title,t.location.pathname+t.location.search+s):(t.location.hash=s,$(t).scrollTop(n.scrollTop).scrollLeft(n.scrollLeft))),l=null)}}),$(t).on("hashchange.fb",function(){var e=o();$.fancybox.getInstance()?!l||l===e.gallery+"-"+e.index||1===e.index&&l==e.gallery||(l=null,$.fancybox.close()):""!==e.gallery&&n(e)}),setTimeout(function(){n(o())},50))})}(document,window,window.jQuery||jQuery);